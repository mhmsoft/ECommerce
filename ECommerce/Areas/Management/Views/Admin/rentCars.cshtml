@model IEnumerable<ECommerce.Areas.Management.Models.Entities.Rent>

@{
    ViewBag.Title = "rentCars";
    Layout = "~/Areas/Management/Views/Shared/Layout.cshtml";
}

<div class="col-md-12 compose">
    <div class="inbox-details-default">

        <div class="inbox-details-body">
            <table class="table">
                <tr>
                    <th>
                        @Html.DisplayName("Resim")
                    </th>
                    <th>
                        @Html.DisplayName("Müşteri")
                    </th>
                    <th>
                        @Html.DisplayName("Tutar")
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.rentStartDate)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.rentEndDate)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.rentState)
                    </th>
                    <th></th>
                </tr>

                @foreach (var item in Model)
                {
                <tr>
                 
                    <td><img style="width:100%;" src="data:image/png;base64,@Convert.ToBase64String(item.Product.image)" /></td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Customer.firstName)
                        &nbsp;
                        @Html.DisplayFor(model => item.Customer.lastName)
                    </td>
                    @{
                        TimeSpan time = new TimeSpan();
                        DateTime first = item.rentStartDate ?? DateTime.Now;
                        DateTime second = item.rentEndDate ?? DateTime.Now;
                        time = first - second;
                    }
                    <td>@(item.Product.dailyPrice * Convert.ToDecimal(Math.Abs(time.Days)))</td>

                    <td>
                        @Html.DisplayFor(modelItem => item.rentStartDate)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.rentEndDate)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.rentState)
                    </td>
                    <td>
                        @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
                        @Html.ActionLink("Details", "Details", new { id = item.Id }) |
                        @Html.ActionLink("Delete", "Delete", new { id = item.Id })
                    </td>
                </tr>
                }

            </table>
            </div>
        </div>
    </div>
